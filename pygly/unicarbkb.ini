
[taxonomy]
params = accession
accession = .*
sparql = 
    PREFIX glycan: <http://purl.jp/bio/12/glyco/glycan#>
    PREFIX glyconj: <http://purl.jp/bio/12/glyco/conjugate#>

    SELECT DISTINCT ?accession ?taxon
    WHERE {
	?structure glycan:has_unicarbkb_id ?accession .
        ?refsaccharide glycan:has_glycan ?structure .
        ?refglyconj glyconj:has_saccharide_part ?refsaccharide .
        ?refglyconj a glyconj:Referenced_glycoconjugate .
        ?refglyconj glycan:is_from_source ?source .
	?source a glycan:source_natural .
        ?source glycan:has_taxon ?taxonuri
        BIND(STRAFTER(STR(?taxonuri),"http://rdf.unicarbkb.org/taxonomy/") as ?taxon)
        FILTER(regex(STR(?structure),"^http://rdf\\.unicarbkb\\.org/(referencedsaccharidecomposition|structure)/"))
        FILTER(regex(?accession,"^%%(accession)s$"))
    }
dummy = 
        BIND(STRAFTER(STR(?structure),"http://rdf.unicarbkb.org/") as ?accession)

[gtcacc]
params = accession
accession = ..*
sparql = 
    PREFIX glycan: <http://purl.jp/bio/12/glyco/glycan#>

    SELECT DISTINCT ?accession ?glytoucan
    WHERE {
      ?structure glycan:has_glytoucan_id ?glytoucan
      BIND(STRAFTER(STR(?structure),"http://rdf.unicarbkb.org/structure/") as ?accession)
      FILTER(regex(?accession,"^%%(accession)s$"))
    }                                                                                                                        
dummy = 
      ?structure a glycan:Saccharide .
      FILTER(regex(STR(?structure),"^http://rdf\\.unicarbkb\\.org/structure/[0-9]{1,6}$"))
